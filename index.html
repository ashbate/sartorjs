<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Graph Network</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    /* Set a transparent background */
    body {
      margin: 0;
      padding: 0;
      background-color: transparent;
      overflow: hidden;
    }

    svg {
      width: 100vw;
      height: 100vh;
    }

    circle {
      fill: #69b3a2;
      stroke: #333;
      stroke-width: 1.5px;
    }

    line {
      stroke: #aaa;
      stroke-width: 2px;
    }

    text {
      font-family: Arial, sans-serif;
      font-size: 14px;
      fill: #333;
    }

    .dot {
      fill: #ff5733;
      r: 5;
    }
  </style>
</head>
<body>
  <svg></svg>

  <script>
    const nodes = [
      { id: "Logo1", x: 150, y: 300 },
      { id: "Logo2", x: 150, y: 400 },
      { id: "Middle", x: 500, y: 350 },
      { id: "Logo3", x: 850, y: 300 },
      { id: "Logo4", x: 850, y: 400 },
    ];

    const links = [
      { source: "Logo1", target: "Middle" },
      { source: "Logo2", target: "Middle" },
      { source: "Middle", target: "Logo3" },
      { source: "Middle", target: "Logo4" },
    ];

    const svg = d3.select("svg");

    // Draw links
    const link = svg.selectAll("line")
      .data(links)
      .join("line");

    // Draw nodes
    const node = svg.selectAll("circle")
      .data(nodes)
      .join("circle")
      .attr("cx", d => d.x)
      .attr("cy", d => d.y)
      .attr("r", 20)
      .attr("fill", (d, i) => i === 2 ? "#FFD700" : "#69b3a2");

    // Add text labels
    svg.selectAll("text")
      .data(nodes)
      .join("text")
      .attr("x", d => d.x)
      .attr("y", d => d.y - 30)
      .attr("text-anchor", "middle")
      .text(d => d.id);

    // Dot animation function
    function animateDot() {
      const path = links.map(d => ({
        x1: nodes.find(n => n.id === d.source).x,
        y1: nodes.find(n => n.id === d.source).y,
        x2: nodes.find(n => n.id === d.target).x,
        y2: nodes.find(n => n.id === d.target).y,
      }));

      const dot = svg.append("circle").attr("class", "dot");

      let segment = 0;

      function moveDot() {
        if (segment >= path.length) {
          dot.remove();
          return;
        }

        const { x1, y1, x2, y2 } = path[segment];
        dot.attr("cx", x1).attr("cy", y1);

        dot.transition()
          .duration(1000)
          .attrTween("cx", () => d3.interpolate(x1, x2))
          .attrTween("cy", () => d3.interpolate(y1, y2))
          .on("end", () => {
            segment++;
            moveDot();
          });
      }

      moveDot();
    }

    // Start animation every 3 seconds
    setInterval(animateDot, 3000);

  </script>
</body>
</html>
